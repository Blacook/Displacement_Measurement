<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AMR Displacement Measurement</title>
    <style>
    .small-text {
        font-size: 0.7em;
    }
    .medium-text {
        font-size: 0.9em;
    }
    .large-text {
        font-size: 1.1em;
    }
</style>
</head>
<body>

<button id="toggleDescription"> hide description</button>
<div id="description">
    <p class="large-text">このWebアプリはAMRの変形と回転による変位を測定するためのものです。</p>
    <p class="medium-text">This Web App is to measure the displacement of AMR on transformation and rotation.</p>
    <p class="large-text">=== 操作手順 ===</p>
    <p class="medium-text">1. POI作成時にタイヤに直角定規を当てがって、床面に直角マーカーを印してください。</p>
    <p class="small-text">  Put the ruler on the tire and mark the marker on the floor when you create POI.</p>
    <p class="medium-text">2. AMRを再び作成したPOIに移動させ、タイヤに直角定規を当てがってください。</p>
    <p class="small-text">  Move AMR to the POI with the marker and put the ruler on the same tire.</p>
    <p class="medium-text">3. 長さの基準となる物体を被写体に入れ、カメラが床面と水平になるように撮影してください。</p>
    <p class="small-text">  Take a picture of the object which is the standard of length and make sure that the camera is horizontal to the floor.</p>
    <p class="medium-text">4. 画像をアップロードしてください。</p>
    <p class="small-text">  Upload the image.</p>
    <p class="medium-text">5. 基準となる物体の両端に点をクリックしてください。</p>
    <p class="small-text">  Click the both ends of the object on the image to calibrate the length.</p>
    <p class="medium-text">6. POI作成時のマーカーの頂点、POI作成時のマーカーの頂点を挟む二辺上の各点の順に3点クリックしてください。</p>
    <p class="small-text">  Click three points in order of the vertex of the marker and the each point on the two edge lines interposing the vertex.</p>
    <p class="medium-text">7. タイヤに当てがった直角定規の頂点、タイヤに当てがった直角定規の頂点を挟む二辺上の各点の順に3点クリックしてください。</p>
    <p class="small-text">  Click three points in order of the vertex of the ruler and the each point on the two edge lines interposing the vertex.</p>
</div>

<div id="input">
    <!-- ... -->
    <p><strong>基準となる物体の長さ The length of object for calibration</strong>: <input type="number" id="knownObjectLength" value="20.0" step="0.1" min="0"> cm</p>
</div>

<div id="results">
    <p><strong>並進のずれ Transfomation Displacement:</strong> <span id="displacementResult">-</span></p>
    <p><strong>回転のずれ Rotation Displacement:</strong> <span id="rotationResult">-</span></p>
</div>


<button id="resetButton">Reset</button>
<script src="https://unpkg.com/heic2any"></script>
<input type="file" id="imageInput">
<canvas id="imageCanvas" width="700" height="700"></canvas>
<script src="script.js"></script>

</body>
</html>
